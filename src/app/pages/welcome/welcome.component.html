<h1>Book Storage</h1>

<nz-input-group  nzSearch [nzAddOnAfter]="suffixIconButton">
  <input style="width: 200px;" [(ngModel)]="title"  type="text" nz-input placeholder="input book title" />
  <button nz-button nzType="primary" nzSearch (click)="FindBookByTitle(title)" ><i nz-icon nzType="search"></i></button>
</nz-input-group>
<br>

<ng-template style="width: 200px;" #suffixIconButton>
  <button  nz-button nzType="primary"  nzGhost (click)="NewBookModal()">Add new Book</button>
  <button nz-button nzType="primary"  nzGhost (click)="showBook()" ><i nz-icon nzType="reload" nzTheme="outline"></i></button>
</ng-template>



<br>
<nz-table  #basicTable  [nzPageSize]="5" [nzData]="listOfdata" >
  <thead>
  <tr>
    <th *ngFor="let column of listOfColumn"  [nzSortFn]="column.compare" [nzSortPriority]="column.priority" >
      {{ column.title }}
    </th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let data of basicTable.data">
    <td>{{ data.title }}</td>
    <td>{{ data.price }}</td>
    <td>{{ data.nbPages }}</td>
    <td>{{ data.description }}</td>
    <td>
      <button nz-button nzType="default" (click)="BookInfoModal(data)"><i nz-icon nzType="eye" nzTheme="outline"></i>
      </button>




      <nz-divider nzType="vertical"></nz-divider>
      <button nz-button nzType="default" (click)="UpdateBookModal(data)"><i nz-icon nzType="edit" nzTheme="outline"></i></button>
    <nz-divider nzType="vertical"></nz-divider>
     <button    nz-popconfirm
                nzPopconfirmTitle="Are you sure delete this book?"
                nzPopconfirmPlacement="top"
                (nzOnConfirm)="deleteBook(data)"
                nz-button nzType="default" nzDanger>
       <i nz-icon nzType="delete" nzTheme="outline"></i>
      </button>

    </td>
  </tr>
  </tbody>
</nz-table>





<app-addform [visible]="visible"
(visibilityEvent)="updateVisibility($event)"
(submitEvent)="submit($event)"
>

</app-addform>




<!--<nz-modal [(nzVisible)]="isVisibleNewBookModal" nzTitle="Add New Book"(nzOnCancel)="handleCancelNewBookModal()" (nzOnOk)="handleOkNewBookModal()">-->
<!--<ng-container *nzModalContent >-->
<!--<app-addform></app-addform>-->

<!--</ng-container>-->
<!--</nz-modal>-->





<!--<nz-modal [(nzVisible)]="isVisibleBookInfoModal" nzTitle="Book Info"(nzOnCancel)="handleCancelBookInfoModal()" (nzOnOk)="handleOkBookInfoModal()">-->
<!--  <ng-container *nzModalContent >-->
<!--    <app-addform></app-addform>-->
<!--&lt;!&ndash;    <div class="modalclass" >&ndash;&gt;-->
<!--&lt;!&ndash;      <p>Book ID : {{bookbyidinf.bookId}}</p>&ndash;&gt;-->
<!--&lt;!&ndash;      <p >Book Title: {{ bookbyidinf.title }}</p>&ndash;&gt;-->
<!--&lt;!&ndash;      <p>Book price: {{ bookbyidinf.price }}</p>&ndash;&gt;-->
<!--&lt;!&ndash;      <p>Book NbPages: {{ bookbyidinf.nbPages }}</p>&ndash;&gt;-->
<!--&lt;!&ndash;      <p >Book Description: {{ bookbyidinf.description }}</p>&ndash;&gt;-->
<!--&lt;!&ndash;    </div>&ndash;&gt;-->
<!--  </ng-container>-->
<!--</nz-modal>-->
